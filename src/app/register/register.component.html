<ion-content id="register-page">
  <div class="wave-container">
    <svg viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path fill="#973661" fill-opacity="1"
        d="M0,224L48,229.3C96,235,192,245,288,234.7C384,224,480,192,576,192C672,192,768,224,864,213.3C960,203,1056,149,1152,149.3C1248,149,1344,203,1392,229.3L1440,256L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z">
      </path>
    </svg>
  </div>

  <div class="register-content ion-padding ion-text-center">
    <div class="logo-container">
      <ion-icon name="person-add-outline" size="large"></ion-icon>
      <ion-text class="momo-signature-regular" style="color: #973661;">
        <h1>Crear Cuenta</h1>
      </ion-text>
    </div>

    <ion-list lines="none" class="minimal-list">
      <ion-item>
        <ion-input 
          label="Nombre" 
          label-placement="floating" 
          type="text"
          [(ngModel)]="firstName"
          placeholder="Tu nombre">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-input 
          label="Apellido" 
          label-placement="floating" 
          type="text"
          [(ngModel)]="lastName"
          placeholder="Tu apellido">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-input 
          label="Correo electrÃ³nico" 
          label-placement="floating" 
          type="email"
          [(ngModel)]="email"
          placeholder="ejemplo@dominio.com">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-input 
          label="ContraseÃ±a" 
          label-placement="floating" 
          [type]="showPassword ? 'text' : 'password'"
          [(ngModel)]="password"
          placeholder="MÃ­nimo 6 caracteres">
        </ion-input>
        <ion-icon 
          slot="end" 
          [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"
          (click)="togglePasswordVisibility()"
          style="cursor: pointer; margin-top: 20px;">
        </ion-icon>
      </ion-item>

      <ion-item>
        <ion-input 
          label="Confirmar contraseÃ±a" 
          label-placement="floating" 
          [type]="showConfirmPassword ? 'text' : 'password'"
          [(ngModel)]="confirmPassword"
          placeholder="Repite tu contraseÃ±a">
        </ion-input>
        <ion-icon 
          slot="end" 
          [name]="showConfirmPassword ? 'eye-off-outline' : 'eye-outline'"
          (click)="toggleConfirmPasswordVisibility()"
          style="cursor: pointer; margin-top: 20px;">
        </ion-icon>
      </ion-item>
    </ion-list>

    <ion-button 
      expand="block" 
      class="ion-margin-top" 
      style="--background: #973661; --background-activated: #c15485;"
      (click)="register()"
      [disabled]="isLoading">
      <ion-icon *ngIf="isLoading" name="hourglass-outline" slot="start"></ion-icon>
      {{ isLoading ? 'Creando cuenta...' : 'Crear Cuenta' }}
    </ion-button>

    <!-- Mensaje sobre biometrÃ­a -->
    <div *ngIf="biometricAvailable" class="ion-text-center ion-margin-top">
      <ion-text color="medium">
        <p style="font-size: 0.9em;">
          ğŸ’¡ DespuÃ©s podrÃ¡s habilitar Face ID / Huella digital
        </p>
      </ion-text>
    </div>

    <div class="ion-text-center ion-margin-top">
      <ion-text color="medium">
        <p>Â¿Ya tienes una cuenta?</p>
      </ion-text>
      <ion-button
        fill="clear"
        size="small"
        style="--color: #973661;"
        (click)="goToLogin()">
        Inicia sesiÃ³n aquÃ­
      </ion-button>
    </div>
  </div>
</ion-content>
